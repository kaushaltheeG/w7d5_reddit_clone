  [1m[35m (496.0ms)[0m  [1m[35mCREATE DATABASE "reddit_clone_development" ENCODING = 'unicode'[0m
  [1m[35m (93.8ms)[0m  [1m[35mCREATE DATABASE "reddit_clone_test" ENCODING = 'unicode'[0m
  [1m[35m (62.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (10.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(688274183373989625)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221118171835)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (112.0ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "password_digest" character varying NOT NULL, "session_token" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_session_token" ON "users" ("session_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (26.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221118171835"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (23.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (4.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-11-18 17:20:55.532113"], ["updated_at", "2022-11-18 17:20:55.532113"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT pg_advisory_unlock(688274183373989625)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (118.0ms)[0m  [1m[35mCREATE DATABASE "reddit_clone_development" ENCODING = 'unicode'[0m
  [1m[35m (121.8ms)[0m  [1m[35mCREATE DATABASE "reddit_clone_test" ENCODING = 'unicode'[0m
  [1m[35m (18.5ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(688274183373989625)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20221118171835)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "password_digest" character varying NOT NULL, "session_token" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_session_token" ON "users" ("session_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221118171835"]]
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateSubs (20221118173658)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "subs" ("id" bigserial primary key, "title" character varying NOT NULL, "description" character varying, "moderator_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_290fd73d41"
FOREIGN KEY ("moderator_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_subs_on_title" ON "subs" ("title")[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE INDEX "index_subs_on_moderator_id" ON "subs" ("moderator_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221118173658"]]
  [1m[36mTRANSACTION (2.0ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreatePosts (20221118173705)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "posts" ("id" bigserial primary key, "title" character varying NOT NULL, "url" character varying, "content" text, "sub_id" bigint NOT NULL, "author_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_5bdccabcd5"
FOREIGN KEY ("sub_id")
  REFERENCES "subs" ("id")
, CONSTRAINT "fk_rails_04d13ef8c7"
FOREIGN KEY ("author_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE INDEX "index_posts_on_sub_id" ON "posts" ("sub_id")[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE INDEX "index_posts_on_author_id" ON "posts" ("author_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221118173705"]]
  [1m[36mTRANSACTION (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-11-18 17:40:59.769743"], ["updated_at", "2022-11-18 17:40:59.769743"]]
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(688274183373989625)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2022-11-18 10:36:09 -0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/matthew/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/matthew/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 1.1ms | Allocations: 580)
Completed 200 OK in 8ms (Views: 3.9ms | ActiveRecord: 0.0ms | Allocations: 4223)


Started GET "/users/new" for 127.0.0.1 at 2022-11-18 10:36:20 -0800
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 13.1ms | Allocations: 7866)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 7966)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 4.0ms | Allocations: 15268)



NameError - undefined local variable or method `form_autheniticity_token' for #<ActionView::Base:0x0000000000aff0>
Did you mean?  form_authenticity_token:
  app/views/users/new.html.erb:4
  app/controllers/users_controller.rb:5:in `new'

Started POST "/__better_errors/bc26d858bb23614c/variables" for 127.0.0.1 at 2022-11-18 10:36:21 -0800
Started GET "/users/new" for 127.0.0.1 at 2022-11-18 10:37:14 -0800
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 698)
  Rendered layout layouts/application.html.erb (Duration: 198.7ms | Allocations: 91517)
Completed 200 OK in 201ms (Views: 200.3ms | ActiveRecord: 0.0ms | Allocations: 92374)


Started POST "/users" for 127.0.0.1 at 2022-11-18 10:37:24 -0800
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"auau", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "auau"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "session_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "auau"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2022-11-18 18:37:24.178033"], ["updated_at", "2022-11-18 18:37:24.178033"]]
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "auau"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "[FILTERED]"], ["updated_at", "2022-11-18 18:37:24.188601"], ["id", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:54:in `reset_session_token!'
Redirected to http://localhost:3000/subs
Completed 302 Found in 187ms (ActiveRecord: 6.5ms | Allocations: 14411)


Started GET "/subs" for 127.0.0.1 at 2022-11-18 10:37:24 -0800
Processing by SubsController#index as TURBO_STREAM
No template found for SubsController#index, rendering head :no_content
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms | Allocations: 515)


Started POST "/users" for 127.0.0.1 at 2022-11-18 10:37:27 -0800
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"auau", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "auau"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/users_controller.rb:11:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 70)
  Rendered layout layouts/application.html.erb (Duration: 17.4ms | Allocations: 2382)
Completed 200 OK in 379ms (Views: 19.3ms | ActiveRecord: 1.1ms | Allocations: 10029)


Started POST "/users" for 127.0.0.1 at 2022-11-18 10:37:29 -0800
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"auau", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "auau"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/users_controller.rb:11:in `create'
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 58)
  Rendered layout layouts/application.html.erb (Duration: 2.2ms | Allocations: 2249)
Completed 200 OK in 347ms (Views: 2.7ms | ActiveRecord: 1.0ms | Allocations: 7451)


Started POST "/users" for 127.0.0.1 at 2022-11-18 10:37:55 -0800
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"auauau", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "auauau"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "session_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "auauau"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2022-11-18 18:37:55.870816"], ["updated_at", "2022-11-18 18:37:55.870816"]]
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "auauau"], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "[FILTERED]"], ["id", 2], ["LIMIT", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "[FILTERED]"], ["updated_at", "2022-11-18 18:37:55.879621"], ["id", 2]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:54:in `reset_session_token!'
Redirected to http://localhost:3000/subs
Completed 302 Found in 184ms (ActiveRecord: 5.5ms | Allocations: 8467)


Started GET "/subs" for 127.0.0.1 at 2022-11-18 10:37:55 -0800
Processing by SubsController#index as TURBO_STREAM
No template found for SubsController#index, rendering head :no_content
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 137)


Started GET "/users/new" for 127.0.0.1 at 2022-11-18 10:39:57 -0800
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 691)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 3357)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms | Allocations: 4154)


Started POST "/users" for 127.0.0.1 at 2022-11-18 10:40:23 -0800
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"qwerty", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "qwerty"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "session_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "qwerty"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2022-11-18 18:40:23.624359"], ["updated_at", "2022-11-18 18:40:23.624359"]]
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "qwerty"], ["id", 3], ["LIMIT", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "[FILTERED]"], ["id", 3], ["LIMIT", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "[FILTERED]"], ["updated_at", "2022-11-18 18:40:23.633784"], ["id", 3]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:54:in `reset_session_token!'
Redirected to http://localhost:3000/subs
Completed 302 Found in 184ms (ActiveRecord: 5.7ms | Allocations: 8650)


Started GET "/subs" for 127.0.0.1 at 2022-11-18 10:40:23 -0800
Processing by SubsController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering subs/index.html.erb within layouts/application
  Rendered subs/index.html.erb within layouts/application (Duration: 0.2ms | Allocations: 102)
  Rendered layout layouts/application.html.erb (Duration: 2.4ms | Allocations: 2932)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms | Allocations: 3638)


Started GET "/users/new" for 127.0.0.1 at 2022-11-18 10:40:51 -0800
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 652)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 3312)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms | Allocations: 4140)


Started GET "/users/new" for 127.0.0.1 at 2022-11-18 10:52:41 -0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1074)
  Rendered layout layouts/application.html.erb (Duration: 43.5ms | Allocations: 35718)
Completed 200 OK in 58ms (Views: 46.0ms | ActiveRecord: 3.4ms | Allocations: 44913)


Started GET "/sessions/new" for 127.0.0.1 at 2022-11-18 10:52:49 -0800
  
ActionController::RoutingError (No route matches [GET] "/sessions/new"):
  
Started GET "/session/new" for 127.0.0.1 at 2022-11-18 10:52:54 -0800
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 648)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 3067)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms | Allocations: 3815)


Started POST "/session" for 127.0.0.1 at 2022-11-18 10:53:05 -0800
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"qwerty", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "qwerty"], ["LIMIT", 1]]
  â†³ app/models/user.rb:34:in `find_by_credentials'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "qwerty"], ["id", 3], ["LIMIT", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "[FILTERED]"], ["id", 3], ["LIMIT", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "[FILTERED]"], ["updated_at", "2022-11-18 18:53:05.589885"], ["id", 3]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:54:in `reset_session_token!'
Redirected to http://localhost:3000/subs
Completed 302 Found in 209ms (ActiveRecord: 13.3ms | Allocations: 10648)


Started GET "/subs" for 127.0.0.1 at 2022-11-18 10:53:05 -0800
Processing by SubsController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering subs/index.html.erb within layouts/application
  [1m[36mSub Load (0.4ms)[0m  [1m[34mSELECT "subs".* FROM "subs"[0m
  â†³ app/views/subs/index.html.erb:4
  Rendered subs/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 894)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 3736)
Completed 200 OK in 9ms (Views: 5.6ms | ActiveRecord: 0.4ms | Allocations: 5861)


Started GET "/session/new" for ::1 at 2022-11-18 11:05:27 -0800
  [1m[36mActiveRecord::SchemaMigration Pluck (4.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mCACHE ActiveRecord::SchemaMigration Pluck (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m

ActiveRecord::PendingMigrationError - Migrations are pending. To resolve this issue, run:
        bin/rails db:migrate RAILS_ENV=development
You have 2 pending migrations:
20221118173658_create_subs.rb
20221118173705_create_posts.rb:

Started POST "/__better_errors/6286637d223f56ff/variables" for ::1 at 2022-11-18 11:05:28 -0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (7.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (132.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "reddit_clone_development"[0m
  [1m[35m (67.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "reddit_clone_test"[0m
  [1m[35m (345.6ms)[0m  [1m[35mCREATE DATABASE "reddit_clone_development" ENCODING = 'unicode'[0m
  [1m[35m (47.3ms)[0m  [1m[35mCREATE DATABASE "reddit_clone_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "posts" CASCADE[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "posts" ("id" bigserial primary key, "title" character varying NOT NULL, "url" character varying, "content" text, "sub_id" bigint NOT NULL, "author_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (9.5ms)[0m  [1m[35mCREATE INDEX "index_posts_on_author_id" ON "posts" ("author_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_posts_on_sub_id" ON "posts" ("sub_id")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "subs" CASCADE[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "subs" ("id" bigserial primary key, "title" character varying NOT NULL, "description" character varying, "moderator_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE INDEX "index_subs_on_moderator_id" ON "subs" ("moderator_id")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_subs_on_title" ON "subs" ("title")[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "password_digest" character varying NOT NULL, "session_token" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_session_token" ON "users" ("session_token")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "posts" ADD CONSTRAINT "fk_rails_5bdccabcd5"
FOREIGN KEY ("sub_id")
  REFERENCES "subs" ("id")
[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "posts" ADD CONSTRAINT "fk_rails_04d13ef8c7"
FOREIGN KEY ("author_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "subs" ADD CONSTRAINT "fk_rails_290fd73d41"
FOREIGN KEY ("moderator_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221118173705)[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221118171835),
(20221118173658);

[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (2.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-11-18 19:05:49.771503"], ["updated_at", "2022-11-18 19:05:49.771503"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "36b2ed0012538da917beb7c75d75062e8d56f9f5"], ["created_at", "2022-11-18 19:05:49.778907"], ["updated_at", "2022-11-18 19:05:49.778907"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (2.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "posts" CASCADE[0m
  [1m[35m (54.5ms)[0m  [1m[35mCREATE TABLE "posts" ("id" bigserial primary key, "title" character varying NOT NULL, "url" character varying, "content" text, "sub_id" bigint NOT NULL, "author_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE INDEX "index_posts_on_author_id" ON "posts" ("author_id")[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_posts_on_sub_id" ON "posts" ("sub_id")[0m
  [1m[35m (0.6ms)[0m  [1m[35mDROP TABLE IF EXISTS "subs" CASCADE[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "subs" ("id" bigserial primary key, "title" character varying NOT NULL, "description" character varying, "moderator_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_subs_on_moderator_id" ON "subs" ("moderator_id")[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_subs_on_title" ON "subs" ("title")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "username" character varying NOT NULL, "password_digest" character varying NOT NULL, "session_token" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (5.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_session_token" ON "users" ("session_token")[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username")[0m
  [1m[35m (5.3ms)[0m  [1m[35mALTER TABLE "posts" ADD CONSTRAINT "fk_rails_5bdccabcd5"
FOREIGN KEY ("sub_id")
  REFERENCES "subs" ("id")
[0m
  [1m[35m (5.0ms)[0m  [1m[35mALTER TABLE "posts" ADD CONSTRAINT "fk_rails_04d13ef8c7"
FOREIGN KEY ("author_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "subs" ADD CONSTRAINT "fk_rails_290fd73d41"
FOREIGN KEY ("moderator_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221118173705)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221118171835),
(20221118173658);

[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-11-18 19:05:50.031889"], ["updated_at", "2022-11-18 19:05:50.031889"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.4ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2022-11-18 19:05:50.044055"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (5.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "36b2ed0012538da917beb7c75d75062e8d56f9f5"], ["created_at", "2022-11-18 19:05:50.057031"], ["updated_at", "2022-11-18 19:05:50.057031"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.7ms)[0m  [1m[34mSELECT pg_try_advisory_lock(688274183373989625)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(688274183373989625)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2022-11-18 11:06:40 -0800
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/kaushalkumbagowdana/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/kaushalkumbagowdana/.rbenv/versions/3.1.1/lib/ruby/gems/3.1.0/gems/railties-7.0.4/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.4ms | Allocations: 580)
Completed 200 OK in 14ms (Views: 7.2ms | ActiveRecord: 0.0ms | Allocations: 4223)


Started GET "/users/new" for ::1 at 2022-11-18 11:06:47 -0800
Processing by UsersController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering users/new.html.erb within layouts/application
  Rendered users/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1016)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 212.9ms | Allocations: 96734)
Completed 200 OK in 320ms (Views: 213.9ms | ActiveRecord: 40.1ms | Allocations: 104058)


Started GET "/session/new" for ::1 at 2022-11-18 11:06:50 -0800
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 905)
  [1m[36mUser Load (15.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 34.9ms | Allocations: 4194)
Completed 200 OK in 38ms (Views: 21.1ms | ActiveRecord: 15.8ms | Allocations: 4934)


Started GET "/session/new" for ::1 at 2022-11-18 11:06:52 -0800
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 626)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 3532)
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.6ms | Allocations: 3816)


Started POST "/users" for ::1 at 2022-11-18 11:07:03 -0800
Processing by UsersController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"kzk", "password"=>"[FILTERED]"}}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mUser Exists? (39.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "kzk"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mCACHE User Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mUser Create (98.3ms)[0m  [1m[32mINSERT INTO "users" ("username", "password_digest", "session_token", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["username", "kzk"], ["password_digest", "[FILTERED]"], ["session_token", "[FILTERED]"], ["created_at", "2022-11-18 19:07:03.886037"], ["updated_at", "2022-11-18 19:07:03.886037"]]
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/users_controller.rb:11:in `create'
  [1m[36mUser Exists? (23.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "kzk"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "[FILTERED]"], ["updated_at", "2022-11-18 19:07:04.021745"], ["id", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:54:in `reset_session_token!'
Redirected to http://localhost:3000/subs
Completed 302 Found in 475ms (ActiveRecord: 164.1ms | Allocations: 12737)


Started GET "/subs" for ::1 at 2022-11-18 11:07:04 -0800
Processing by SubsController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering subs/index.html.erb within layouts/application
  [1m[36mSub Load (24.9ms)[0m  [1m[34mSELECT "subs".* FROM "subs"[0m
  â†³ app/views/subs/index.html.erb:4
  Rendered subs/index.html.erb within layouts/application (Duration: 27.4ms | Allocations: 885)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 35.8ms | Allocations: 4880)
Completed 200 OK in 45ms (Views: 12.3ms | ActiveRecord: 25.3ms | Allocations: 7007)


Started GET "/subs" for ::1 at 2022-11-18 11:07:12 -0800
Processing by SubsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering subs/index.html.erb within layouts/application
  [1m[36mSub Load (1.0ms)[0m  [1m[34mSELECT "subs".* FROM "subs"[0m
  â†³ app/views/subs/index.html.erb:4
  Rendered subs/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 566)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 3963)
Completed 200 OK in 16ms (Views: 12.4ms | ActiveRecord: 1.5ms | Allocations: 4251)


Started GET "/subs/new" for ::1 at 2022-11-18 11:07:17 -0800
Processing by SubsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering subs/new.html.erb within layouts/application
  Rendered subs/new.html.erb within layouts/application (Duration: 2.0ms | Allocations: 201)
  Rendered layout layouts/application.html.erb (Duration: 4.3ms | Allocations: 2495)
Completed 200 OK in 58ms (Views: 5.6ms | ActiveRecord: 36.7ms | Allocations: 6666)


Started POST "/subs" for ::1 at 2022-11-18 11:07:31 -0800
Processing by SubsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "sub"=>{"title"=>"plz work", "description"=>""}}
  [1m[36mUser Load (6.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering subs/new.html.erb within layouts/application
  Rendered subs/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 76)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 2501)
Completed 200 OK in 135ms (Views: 4.2ms | ActiveRecord: 6.8ms | Allocations: 18658)


Started GET "/subs" for ::1 at 2022-11-18 11:09:35 -0800
Processing by SubsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering subs/index.html.erb within layouts/application
  [1m[36mSub Load (24.2ms)[0m  [1m[34mSELECT "subs".* FROM "subs"[0m
  â†³ app/views/subs/index.html.erb:4
  Rendered subs/index.html.erb within layouts/application (Duration: 37.9ms | Allocations: 623)
  [1m[36mUser Load (22.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 114.3ms | Allocations: 4144)
Completed 200 OK in 126ms (Views: 69.9ms | ActiveRecord: 47.1ms | Allocations: 4409)


Started GET "/subs" for ::1 at 2022-11-18 11:11:28 -0800
Processing by SubsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering subs/index.html.erb within layouts/application
  [1m[36mSub Load (0.4ms)[0m  [1m[34mSELECT "subs".* FROM "subs"[0m
  â†³ app/views/subs/index.html.erb:4
  Rendered subs/index.html.erb within layouts/application (Duration: 40.1ms | Allocations: 816)
  [1m[36mUser Load (5.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 64.2ms | Allocations: 4974)
Completed 200 OK in 204ms (Views: 172.9ms | ActiveRecord: 6.0ms | Allocations: 5758)


Started GET "/subs/new" for ::1 at 2022-11-18 11:11:30 -0800
Processing by SubsController#new as HTML
  [1m[36mUser Load (31.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering subs/new.html.erb within layouts/application
  Rendered subs/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 192)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 2486)
Completed 200 OK in 43ms (Views: 6.9ms | ActiveRecord: 31.2ms | Allocations: 3888)


Started POST "/subs" for ::1 at 2022-11-18 11:11:35 -0800
Processing by SubsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "sub"=>{"title"=>"plz work 2", "description"=>""}}
  [1m[36mUser Load (85.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering subs/new.html.erb within layouts/application
  Rendered subs/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 57)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 2337)
Completed 200 OK in 322ms (Views: 13.7ms | ActiveRecord: 85.0ms | Allocations: 5253)


Started POST "/subs" for ::1 at 2022-11-18 11:11:39 -0800
Processing by SubsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "sub"=>{"title"=>"plz work 2", "description"=>""}}
  [1m[36mUser Load (17.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering subs/new.html.erb within layouts/application
  Rendered subs/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 57)
  Rendered layout layouts/application.html.erb (Duration: 1.9ms | Allocations: 2343)
Completed 200 OK in 25ms (Views: 2.3ms | ActiveRecord: 17.1ms | Allocations: 5151)


Started GET "/subs" for ::1 at 2022-11-18 11:12:04 -0800
Processing by SubsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering subs/index.html.erb within layouts/application
  [1m[36mSub Load (509.6ms)[0m  [1m[34mSELECT "subs".* FROM "subs"[0m
  â†³ app/views/subs/index.html.erb:4
  Rendered subs/index.html.erb within layouts/application (Duration: 542.2ms | Allocations: 561)
  [1m[36mUser Load (27.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 637.2ms | Allocations: 3986)
Completed 200 OK in 662ms (Views: 109.3ms | ActiveRecord: 536.6ms | Allocations: 4244)


Started GET "/subs" for ::1 at 2022-11-18 11:12:40 -0800
Processing by SubsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering subs/index.html.erb within layouts/application
  [1m[36mSub Load (19.7ms)[0m  [1m[34mSELECT "subs".* FROM "subs"[0m
  â†³ app/views/subs/index.html.erb:4
  Rendered subs/index.html.erb within layouts/application (Duration: 20.8ms | Allocations: 709)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 166.2ms | Allocations: 19406)
Completed 200 OK in 174ms (Views: 47.4ms | ActiveRecord: 122.6ms | Allocations: 21314)


Started GET "/subs/new" for ::1 at 2022-11-18 11:12:43 -0800
Processing by SubsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering subs/new.html.erb within layouts/application
  Rendered subs/new.html.erb within layouts/application (Duration: 0.2ms | Allocations: 67)
  Rendered layout layouts/application.html.erb (Duration: 4.8ms | Allocations: 2492)
Completed 200 OK in 91ms (Views: 11.7ms | ActiveRecord: 76.0ms | Allocations: 5524)


Started POST "/subs" for ::1 at 2022-11-18 11:12:47 -0800
Processing by SubsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "sub"=>{"title"=>"bugger", "description"=>""}}
  [1m[36mUser Load (3.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering subs/new.html.erb within layouts/application
  Rendered subs/new.html.erb within layouts/application (Duration: 33.8ms | Allocations: 103)
  Rendered layout layouts/application.html.erb (Duration: 88.2ms | Allocations: 2904)
Completed 200 OK in 440447ms (Views: 140.8ms | ActiveRecord: 3.7ms | Allocations: 204068)


Started GET "/subs/new" for ::1 at 2022-11-18 11:20:08 -0800
Processing by SubsController#new as HTML
  [1m[36mUser Load (39.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering subs/new.html.erb within layouts/application
  Rendered subs/new.html.erb within layouts/application (Duration: 0.4ms | Allocations: 121)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 14285)
Completed 200 OK in 275ms (Views: 14.5ms | ActiveRecord: 243.3ms | Allocations: 22336)


Started GET "/subs/new" for ::1 at 2022-11-18 11:20:12 -0800
Processing by SubsController#new as HTML
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering subs/new.html.erb within layouts/application
  Rendered subs/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 59)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 2352)
Completed 200 OK in 30ms (Views: 11.7ms | ActiveRecord: 1.0ms | Allocations: 3818)


Started GET "/subs/new" for ::1 at 2022-11-18 11:20:13 -0800
Processing by SubsController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendering layout layouts/application.html.erb
  Rendering subs/new.html.erb within layouts/application
  Rendered subs/new.html.erb within layouts/application (Duration: 0.3ms | Allocations: 59)
  Rendered layout layouts/application.html.erb (Duration: 3.1ms | Allocations: 2365)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.8ms | Allocations: 3697)


Started POST "/subs" for ::1 at 2022-11-18 11:20:19 -0800
Processing by SubsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "sub"=>{"title"=>"plz work 3", "description"=>""}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/subs_controller.rb:14:in `create'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/subs_controller.rb:14:in `create'
  [1m[36mSub Create (112.2ms)[0m  [1m[32mINSERT INTO "subs" ("title", "description", "moderator_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["title", "plz work 3"], ["description", ""], ["moderator_id", 1], ["created_at", "2022-11-18 19:20:19.744577"], ["updated_at", "2022-11-18 19:20:19.744577"]]
  â†³ app/controllers/subs_controller.rb:14:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/subs_controller.rb:14:in `create'
Redirected to http://localhost:3000/subs/1
Completed 302 Found in 143ms (ActiveRecord: 113.4ms | Allocations: 8553)


Started GET "/subs/1" for ::1 at 2022-11-18 11:20:19 -0800
Processing by SubsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mSub Load (0.3ms)[0m  [1m[34mSELECT "subs".* FROM "subs" WHERE "subs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/subs_controller.rb:23:in `show'
  Rendering layout layouts/application.html.erb
  Rendering subs/show.html.erb within layouts/application
  Rendered subs/show.html.erb within layouts/application (Duration: 1.5ms | Allocations: 142)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 3703)
Completed 200 OK in 22ms (Views: 14.4ms | ActiveRecord: 0.5ms | Allocations: 5941)


Started GET "/subs" for ::1 at 2022-11-18 11:21:05 -0800
Processing by SubsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering subs/index.html.erb within layouts/application
  [1m[36mSub Load (10.2ms)[0m  [1m[34mSELECT "subs".* FROM "subs"[0m
  â†³ app/views/subs/index.html.erb:4
  Rendered subs/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 638)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 75.7ms | Allocations: 4037)
Completed 200 OK in 85ms (Views: 68.3ms | ActiveRecord: 10.5ms | Allocations: 4296)


Started GET "/subs/1" for ::1 at 2022-11-18 11:21:07 -0800
Processing by SubsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSub Load (1.2ms)[0m  [1m[34mSELECT "subs".* FROM "subs" WHERE "subs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/subs_controller.rb:23:in `show'
  Rendering layout layouts/application.html.erb
  Rendering subs/show.html.erb within layouts/application
  Rendered subs/show.html.erb within layouts/application (Duration: 0.1ms | Allocations: 11)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 14.4ms | Allocations: 3378)
Completed 200 OK in 27ms (Views: 16.5ms | ActiveRecord: 1.6ms | Allocations: 4128)


Started GET "/subs" for ::1 at 2022-11-18 11:21:10 -0800
Processing by SubsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering subs/index.html.erb within layouts/application
  [1m[36mSub Load (1.9ms)[0m  [1m[34mSELECT "subs".* FROM "subs"[0m
  â†³ app/views/subs/index.html.erb:4
  Rendered subs/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 613)
  [1m[36mUser Load (7.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 24.8ms | Allocations: 4000)
Completed 200 OK in 27ms (Views: 16.4ms | ActiveRecord: 9.7ms | Allocations: 4256)


Started DELETE "/session" for ::1 at 2022-11-18 11:21:15 -0800
Processing by SessionsController#destroy as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "kzk"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Update (7.4ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "[FILTERED]"], ["updated_at", "2022-11-18 19:21:15.299649"], ["id", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:54:in `reset_session_token!'
Redirected to http://localhost:3000/session/new
Completed 302 Found in 34ms (ActiveRecord: 12.8ms | Allocations: 5947)


Started GET "/session/new" for ::1 at 2022-11-18 11:21:15 -0800
Processing by SessionsController#new as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 872)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 4170)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.5ms | Allocations: 4856)


Started GET "/session/new" for ::1 at 2022-11-18 11:21:16 -0800
Processing by SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 605)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 3511)
Completed 200 OK in 20ms (Views: 17.1ms | ActiveRecord: 0.6ms | Allocations: 3795)


Started POST "/session" for ::1 at 2022-11-18 11:21:24 -0800
Processing by SessionsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"kzk", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."username" = $1 LIMIT $2[0m  [["username", "kzk"], ["LIMIT", 1]]
  â†³ app/models/user.rb:34:in `find_by_credentials'
  [1m[36mUser Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/models/user.rb:68:in `generate_unique_session_token'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["username", "kzk"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."session_token" = $1 AND "users"."id" != $2 LIMIT $3[0m  [["session_token", "[FILTERED]"], ["id", 1], ["LIMIT", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mUser Update (0.9ms)[0m  [1m[33mUPDATE "users" SET "session_token" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["session_token", "[FILTERED]"], ["updated_at", "2022-11-18 19:21:24.590841"], ["id", 1]]
  â†³ app/models/user.rb:54:in `reset_session_token!'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/models/user.rb:54:in `reset_session_token!'
Redirected to http://localhost:3000/subs
Completed 302 Found in 286ms (ActiveRecord: 4.0ms | Allocations: 5478)


Started GET "/subs" for ::1 at 2022-11-18 11:21:24 -0800
Processing by SubsController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering subs/index.html.erb within layouts/application
  [1m[36mSub Load (0.2ms)[0m  [1m[34mSELECT "subs".* FROM "subs"[0m
  â†³ app/views/subs/index.html.erb:4
  Rendered subs/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 618)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 4000)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.4ms | Allocations: 4262)


Started GET "/subs/1" for ::1 at 2022-11-18 11:22:02 -0800
Processing by SubsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mSub Load (46.5ms)[0m  [1m[34mSELECT "subs".* FROM "subs" WHERE "subs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/subs_controller.rb:23:in `show'
  Rendering layout layouts/application.html.erb
  Rendering subs/show.html.erb within layouts/application
  Rendered subs/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 11)
  [1m[36mUser Load (22.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."session_token" = $1 LIMIT $2[0m  [["session_token", "[FILTERED]"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:6:in `current_user'
  Rendered layout layouts/application.html.erb (Duration: 80.2ms | Allocations: 3400)
Completed 200 OK in 173ms (Views: 62.8ms | ActiveRecord: 68.8ms | Allocations: 4154)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(688274183373989625)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (22.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreatePostSubs (20221118193456)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (289.7ms)[0m  [1m[35mCREATE TABLE "post_subs" ("id" bigserial primary key, "sub_id" bigint NOT NULL, "post_id" bigint NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_b90e08fbd0"
FOREIGN KEY ("sub_id")
  REFERENCES "subs" ("id")
, CONSTRAINT "fk_rails_65b82c2354"
FOREIGN KEY ("post_id")
  REFERENCES "posts" ("id")
)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE INDEX "index_post_subs_on_sub_id" ON "post_subs" ("sub_id")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_post_subs_on_post_id" ON "post_subs" ("post_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221118193456"]]
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (9.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(688274183373989625)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(688274183373989625)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to ChangeColFromPost (20221118193646)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (51.6ms)[0m  [1m[35mALTER TABLE "posts" DROP COLUMN "sub_id"[0m
  [1m[36mActiveRecord::SchemaMigration Create (1.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20221118193646"]]
  [1m[36mTRANSACTION (52.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (4.9ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(688274183373989625)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
